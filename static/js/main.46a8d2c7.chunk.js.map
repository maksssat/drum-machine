{"version":3,"sources":["drum-machine/DrumPad.js","drum-machine/DrumMachine.js","App.js","index.js"],"names":["DrumPad","props","audio","useRef","button","handleKeyDown","e","keyCode","current","play","onPlay","dataset","id","classList","add","setTimeout","remove","useEffect","document","addEventListener","volume","removeEventListener","ref","className","onClick","target","value","data-id","src","type","crossOrigin","samples","DrumMachine","state","display","clicks","handlePlay","bind","handleChange","this","setState","x","displayClear","drumpadList","map","min","max","step","onChange","React","Component","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.46a8d2c7.chunk.js","sourcesContent":["import React, { useEffect, useRef } from \"react\";\r\n\r\nexport default function DrumPad(props) {\r\n  const audio = useRef(null);\r\n  const button = useRef(null);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleKeyDown);\r\n    audio.current.volume = props.volume;\r\n    return () => document.removeEventListener(\"keydown\", handleKeyDown);\r\n  });\r\n\r\n  function handleClick(e) {\r\n    audio.current.play();\r\n    props.onPlay(e.target.id);\r\n  }\r\n\r\n  function handleKeyDown(e) {\r\n    if (e.keyCode === props.keyCode) {\r\n      audio.current.play();\r\n      props.onPlay(audio.current.dataset.id);\r\n      button.current.classList.add(\"pressed\");\r\n      setTimeout(() => {\r\n        button.current.classList.remove(\"pressed\");\r\n      }, 100);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <button\r\n      ref={button}\r\n      id={props.id}\r\n      className=\"drum-pad\"\r\n      onClick={handleClick}\r\n    >\r\n      {props.value}\r\n      <audio\r\n        data-id={props.id}\r\n        ref={audio}\r\n        id={props.value}\r\n        className=\"clip\"\r\n        src={props.src}\r\n        type=\"audio/mpeg\"\r\n        crossOrigin=\"anonymous\"\r\n      ></audio>\r\n    </button>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport DrumPad from \"./DrumPad\";\r\n\r\nconst samples = [\r\n  {\r\n    value: \"Q\",\r\n    id: \"Clap\",\r\n    keyCode: 81,\r\n    src:\r\n      \"https://raw.githubusercontent.com/maksssat/drum-machine/master/src/drum-machine/sounds/909-Clap-1.mp3\",\r\n  },\r\n  {\r\n    value: \"W\",\r\n    id: \"Crash\",\r\n    keyCode: 87,\r\n    src:\r\n      \"https://raw.githubusercontent.com/maksssat/drum-machine/master/src/drum-machine/sounds/909-Crash-HD2.mp3\",\r\n  },\r\n  {\r\n    value: \"E\",\r\n    id: \"HiHat\",\r\n    keyCode: 69,\r\n    src:\r\n      \"https://raw.githubusercontent.com/maksssat/drum-machine/master/src/drum-machine/sounds/909-HiHatOpen-D6.mp3\",\r\n  },\r\n  {\r\n    value: \"A\",\r\n    id: \"HiTom\",\r\n    keyCode: 65,\r\n    src:\r\n      \"https://raw.githubusercontent.com/maksssat/drum-machine/master/src/drum-machine/sounds/909-HiTom-3D7.mp3\",\r\n  },\r\n  {\r\n    value: \"S\",\r\n    id: \"Kick\",\r\n    keyCode: 83,\r\n    src:\r\n      \"https://raw.githubusercontent.com/maksssat/drum-machine/master/src/drum-machine/sounds/909-Kick-T3A0DA.mp3\",\r\n  },\r\n  {\r\n    value: \"D\",\r\n    id: \"LoTom\",\r\n    keyCode: 68,\r\n    src:\r\n      \"https://raw.githubusercontent.com/maksssat/drum-machine/master/src/drum-machine/sounds/909-LoTom-0D7.mp3\",\r\n  },\r\n  {\r\n    value: \"Z\",\r\n    id: \"MidTom\",\r\n    keyCode: 90,\r\n    src:\r\n      \"https://raw.githubusercontent.com/maksssat/drum-machine/master/src/drum-machine/sounds/909-MidTom-0DA.mp3\",\r\n  },\r\n  {\r\n    value: \"X\",\r\n    id: \"Ride\",\r\n    keyCode: 88,\r\n    src:\r\n      \"https://raw.githubusercontent.com/maksssat/drum-machine/master/src/drum-machine/sounds/909-Ride-D0.mp3\",\r\n  },\r\n  {\r\n    value: \"C\",\r\n    id: \"Snare\",\r\n    keyCode: 67,\r\n    src:\r\n      \"https://raw.githubusercontent.com/maksssat/drum-machine/master/src/drum-machine/sounds/909-Snare-T3T0S7.mp3\",\r\n  },\r\n];\r\n\r\nexport default class DrumMachine extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      display: \"\",\r\n      volume: \"1.0\",\r\n      clicks: 0,\r\n    };\r\n    this.handlePlay = this.handlePlay.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handlePlay(e) {\r\n    this.setState((state) => ({ display: e, clicks: state.clicks + 1 }));\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({ volume: e.target.value });\r\n  }\r\n\r\n  displayClear(x) {\r\n    if (this.state.clicks === x) {\r\n      this.setState({ display: \"\" });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const clicks = this.state.clicks;\r\n    const displayClear = this.displayClear.bind(this, clicks);\r\n    setTimeout(displayClear, 2000);\r\n  }\r\n\r\n  render() {\r\n    const drumpadList = samples.map(({ value, id, keyCode, src }) => (\r\n      <DrumPad\r\n        id={id}\r\n        value={value}\r\n        keyCode={keyCode}\r\n        src={src}\r\n        key={value}\r\n        onPlay={this.handlePlay}\r\n        volume={this.state.volume}\r\n      />\r\n    ));\r\n\r\n    return (\r\n      <div id=\"drum-machine\">\r\n        <div id=\"drumpad-wrapper\">{drumpadList}</div>\r\n        <div id=\"control-wrapper\">\r\n          <div id=\"display\">{this.state.display}</div>\r\n          <input\r\n            type=\"range\"\r\n            min=\"0\"\r\n            max=\"1.0\"\r\n            step=\"0.1\"\r\n            value={this.state.volume}\r\n            onChange={this.handleChange}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import \"./App.css\";\nimport DrumMachine from \"./drum-machine/DrumMachine\";\n\nfunction App() {\n  return <DrumMachine />;\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}